- name: Dark UI  colors
  description: Provide a dark UI color theme in order to save battery on devices with AMOLED screens.
  context: Screen is one of the major source of power consumption on mobile devices. Apps that require heavy usage of screen can have a big impact on battery life.
  solution: Some mobile devices are shipped with AMOLED screens, which are more energy savior when displaying dark colors. Provide a UI with dark background colors, while preserving the contrast of foreground elements. In some cases, it might be reasonable to allow users to choose between a light and a dark theme. The dark theme can also be activated upon a special trigger (e.g., when battery is running low).
  example:
  occurrences_android:
    issues:
      - https://github.com/rdoeffinger/Dictionary/issues/43
      - https://github.com/bitcoin-wallet/bitcoin-wallet/issues/338
      - https://github.com/mikifus/padland/issues/4
      - https://github.com/TeamAmaze/AmazeFileManager/issues/336
      - https://github.com/vishesh/sealnote/issues/47
      - https://github.com/Wilm0r/giggity/issues/42
      - https://github.com/AntennaPod/AntennaPod/issues/1881
      - https://github.com/m0ppers/ElpeEfpeAndroid/issues/3
      - https://github.com/artetxem/mitzuli/issues/26
      - https://github.com/nextcloud/news-android/issues/512
      - https://github.com/Yubico/yubioath-android/issues/49
      - https://github.com/rosenpin-deprecated/More-For-GO/issues/23
      - https://github.com/signalapp/Signal-Android/issues/5470
      - https://github.com/vector-im/riot-android/issues/507
      - https://github.com/k3b/APhotoManager/issues/14
      - https://github.com/nbossard/packlist/issues/53
      - https://github.com/dmfs/opentasks/issues/4
      - https://github.com/SecUSo/privacy-friendly-sudoku/issues/8
      - https://github.com/mpcjanssen/simpletask-android/issues/694
      - https://github.com/vishesh/sealnote/issues/47
      - https://github.com/yeriomin/YalpStore/issues/10
      - https://github.com/Etuldan/spaRSS/issues/34
    commits:
      - https://github.com/ligi/SurvivalManual/commit/3b7c3b33ac6562878cd2ac628b9f33c64670a6d3
      - https://github.com/markusfisch/ShaderEditor/commit/27628f615cf97688f40f601c0ea315bb60f0db91
      - https://github.com/yeriomin/YalpStore/commit/34b5f82e8a1093d8a1cc5ca669ff435d65643625
    pull_requests:
      -
  occurrences_ios:
    issues:
    commits:
    pull_requests:
  references:
    - authors: Agolli T, Pollock L, Clause J.
      title: Investigating decreasing energy usage in mobile apps via indistinguishable color changes.
      url: http://ieeexplore.ieee.org/abstract/document/7972715/
    - authors: Linares-Vásquez M, Bernal-Cárdenas C, Bavota G, Oliveto R, Di Penta M, Poshyvanyk D.
      title: "GEMMA: multi-objective optimization of energy consumption of GUIs in Android apps."
      url: http://ieeexplore.ieee.org/abstract/document/7965245/

- name: Polite poller
  description: Whenever an attempt to access a resource has failed, increase the interval of time waited before asking access to that same resource.
  context:
  solution: Enlarge (user configurable) interval to renew push connection and check for new messages actively after connection is established (either linear or exponential growth). Eventually stop retrying. (also it can wait until context changes (e.g., network status))
  occurrences_android:
    issues:
      - https://github.com/deltachat/deltachat-android/issues/186
      - https://github.com/nextcloud/android/issues/1561
      - https://github.com/vector-im/riot-android/issues/882
      - https://github.com/kenkendk/android-bluez-ime/issues/62
    commits:
      - https://github.com/mpcjanssen/simpletask-android/commit/1b674be880439bb176c285509efbd96629270f70
      - https://github.com/k9mail/k-9/commit/86f3b28f79509d1a4d613eb39f60603e08579ea3
      - https://github.com/jamienicol/episodes/commit/e004294d1b2a4d05c49157f1ddec32c0071345a5

- name: Affordable
  description: Avoid performing tasks that are not visible/valuable to the user and/or quickly become obsolete. (TODO Obsolete layour param)
  context: When displaying real-time information, the data presented to the user has to be constantly updated. However, depending on the view that is being displayed to the user, this data might not be entirely presented or useful. The same happens when the app goes to background. Since the data quickly becomes obsolete the phone is using resources unnecessarily. Another context -- too many notifications for somethinf a user might not be interested. another example, notifications are disabled, so information that would fire that notification does not need to be fetched.
  solution: Select a concise set of data that should be presented to the user and enable/disable update and processing tasks depending on their effect on the data which is visible to the user. FIXME
  example:
  occurrences_android:
    issues:
      - https://github.com/deltachat/deltachat-android/issues/186
      - https://github.com/osmandapp/Osmand/issues/2869
      - https://github.com/vector-im/riot-android/issues/1807
      - https://github.com/vector-im/riot-android/issues/1848
      - https://github.com/ukanth/afwall/issues/649
      - https://github.com/QuantumBadger/RedReader/issues/204
      - https://github.com/openbmap/radiocells-scanner-android/issues/175
      - https://github.com/ubergeek42/weechat-android/issues/73
    commits:
      - https://github.com/greenaddress/GreenBits/commit/e16925c2231a0f8ef82636b3f7df9b69316ab53a
      - https://github.com/greenaddress/GreenBits/commit/1d5da879a71da8060d5ad6a784d318f7f0c63515
      - https://github.com/osmandapp/Osmand/commit/59c8b5d39cf2c0361d6f688d75e19f2786a4cbae
      - https://github.com/chaitan94/RedReader/commit/a774cab934ce24a5fa028e65841ab71523f5ed2c
      - https://github.com/mpcjanssen/simpletask-android/commit/13b615b26b0fe05be1ac6330d02b116d604b4a6a
      - https://github.com/Zanshinmu/Wifi-Fixer/commit/049fc6f740b2d6a6da20e85271f1a1f6a9a841e8
      - https://github.com/shadowsocks/shadowsocks-android/commit/8dcfd5a8c5afca445ea21eaaea962c01e5c63eb5
    pull_requests:
      - https://github.com/vitas/beaconloc/pull/13
      - https://github.com/redfish64/TinyTravelTracker/pull/59
      - https://github.com/ccrama/Slide/pull/2347

- name: good enough processing
  related:
    - Enough resolution
    - Affordable
  description: when dealing with real time processing sometimes the results do not need to be perfect. Wait until a session ends to do a more accurate processing.
  example: calculating distance while running
  occurrences_android:
    issues:
      - https://github.com/khertan/ForRunners/issues/54


- name: Close Immediately ASAP
  description: Close/Release resources immediately after they are not necessary. E.g., Wakelocks. The same applies to the Screen. Also, lower wakelock time
  occurrences_android:
    issues:
      - https://github.com/deltachat/deltachat-android/issues/104
      - https://github.com/osmandapp/Osmand/issues/3727
      - https://github.com/andstatus/andstatus/issues/467
      - https://github.com/ctodobom/OpenNoteScanner/issues/87
      - https://github.com/TwidereProject/Twidere-Android/issues/935
      - https://github.com/tananaev/traccar-client-android/issues/128
      - https://github.com/tananaev/traccar-client-android/issues/11
      - https://github.com/badaix/snapcast/issues/82
      - https://github.com/jannispinter/jaws/issues/4
      - https://github.com/geometer/FBReaderJ/issues/162
      - https://github.com/PaulWoitaschek/Voice/issues/490
      - https://github.com/openbmap/radiocells-scanner-android/issues/105
      - https://github.com/mozilla/MozStumbler/issues/1069
    commits:
      - https://github.com/deltachat/deltachat-android/commit/ba1b5211a2167809c7b92cad64f2a65247669f0a
      - https://github.com/vanilla-music/vanilla/commit/0e60e51128519f1d44ceaa204b592b62595f81e2
      - https://github.com/LibreShift/red-moon/commit/12fdc2fe2785468b9c6b426a499004479d2d383d
      - https://github.com/M66B/NetGuard/commit/223de55f58484101cde7629dca810acdff5d785f
      - https://github.com/M66B/NetGuard/commit/fd614bcbd7738ef9f3179ce5a2fb2efe2c05defb
      - https://github.com/GrahamBlanshard/WiseRadar/commit/7c35abb8512bb89b65750175e4ab07c26a813677
      - https://github.com/daneren2005/Subsonic/commit/8ac7e0f2fec8f1ba475696b4d1bf2d7065eae2f9
      - https://github.com/shadowsocks/shadowsocks-android/commit/418ae2151c62d7ab352e15d942669cec82fdb923
    pull_requests:
      - https://github.com/redfish64/TinyTravelTracker/pull/58
      - https://github.com/ccrama/Slide/pull/2345
      - https://github.com/lllllT/AtmosphereLogger/pull/3
      - https://github.com/greenaddress/GreenBits/pull/199
      - https://github.com/mozilla/MozStumbler/pull/1074

- name: Open Immediately Before
  description: Only open/start resources/services if they will be immediately necessary. This also avoids activating resources that will never be used (cb9f225f5962d399f48b65d5f855e11f146cbbcb).
  occurrences_android:
    issues:
      - https://github.com/cSploit/android/issues/396
    commits:
      - https://github.com/signalapp/Signal-Android/commit/cb9f225f5962d399f48b65d5f855e11f146cbbcb
      - https://github.com/shadowsocks/shadowsocks-android/commit/418ae2151c62d7ab352e15d942669cec82fdb923

- name: Push over Poll FIXME
  description: don't do active query for new messages and wait for push notification from mail server (not shure if this works stable in every use case).
  context:
  solution: Note -- this is a big challenge amongst FOSS apps since there is no good alternative for Firebase Cloud Messaging (former Google Cloud Messaging) that is open source and can easily be self hosted in the community.
  occurrences_android:
    issues:
      - https://github.com/deltachat/deltachat-android/issues/186
      - https://github.com/nextcloud/android/issues/1654 FIXME
      - https://github.com/bailuk/AAT/issues/12
      - https://github.com/commons-app/apps-android-commons/issues/871
      - https://github.com/vector-im/riot-android/issues/616
      - https://github.com/vector-im/riot-android/issues/1117
      - https://github.com/vector-im/riot-android/issues/994
      - https://github.com/criticalmaps/criticalmaps-android/issues/93
      - https://github.com/servalproject/batphone/issues/106
      - https://github.com/redsolution/xabber-android/issues/529
      - https://github.com/openbmap/radiocells-scanner-android/issues/166
      - https://github.com/signalapp/Signal-Android/issues/1187
  references:
    - title: The State of Mobile XMPP in 2016
      authors: Daniel Gultsch
      url: https://gultsch.de/xmpp_2016.html
    - title: GSoC - Alternative Push Notification Transport
      year: 2018
      url: https://github.com/matrix-org/GSoC/blob/master/IDEAS.md#alternative-push-notification-transport

- name: Perform only on demand
  related: pull over push
  occurrences_android:
    issues:
      - https://github.com/redsolution/xabber-android/issues/174

- name: Power Save mode
  description: provide an energy savior mode whenever the device enters a power save mode.
  context: Whenever the battery is running low the device can enter a power save mode to assure users can extend the battery life until the device is connected to a charging station or reaches a reasonable power level. In some systems, this mode can be manually activated by users.
  solution: implement a mode in which the app will use less resources while providing the minimum functionality that is indispensible to the user. This can include deactivating some features, reducing update intervals, or deactivating animated effects in the UI.
  occurrences_android:
    issues:
      - https://github.com/markusfisch/ShaderEditor/commit/6f278fb920072f85c6fc23a30724127b99333a7f
      - https://github.com/AnySoftKeyboard/AnySoftKeyboard/issues/463
      - https://github.com/mozilla/MozStumbler/issues/1109
      - https://github.com/mozilla/MozStumbler/issues/1069
    commits:
      - https://github.com/nextcloud/android/commit/8bc432027e0d33e8043cf40192203203a40ca29c
      - https://github.com/nextcloud/android/commit/ef7900a6a470469e2bce57b1458747dd9053afd1
      - https://github.com/markusfisch/ShaderEditor/commit/27628f615cf97688f40f601c0ea315bb60f0db91
      - https://github.com/00-Evan/shattered-pixel-dungeon/commit/debbb570662343b5a74b11057d1b67d257e6f95f
      - https://github.com/syncthing/syncthing-android/commit/ea8621cfc37349997f1c5b5ee250b42423c4c26a
      - https://github.com/syncthing/syncthing-android/commit/8463c194163f0d24bf2ac5b5cfe3531474381113
      - https://github.com/syncthing/syncthing-android/commit/c1d5bcc4cdb02eb40ab60030f304515682ba4ba3
      - https://github.com/bitcoin-wallet/bitcoin-wallet/commit/d6714de9ce2b22749ccb794509016b0aac9c0480
      - https://github.com/MarcelJurtz/LifeCounter/commit/508f991ea9b065d65314aa560635c45e42431668
      - https://github.com/proninyaroslav/libretorrent/commit/c48bc2714555f50c01654dfed3dbcbfa1d3ef1b6
      - https://github.com/samuelclay/NewsBlur/commit/8468a1c7c591376dbaea69fcf614dd6eb8450c92
      - https://github.com/openfoodfacts/openfoodfacts-androidapp/commit/dd5e4650579a24950333815b435119ff031654a0
      - https://github.com/openbmap/radiocells-scanner-android/commit/cd8c6835f2a74b7e2723ff0589cb401ce8b141c9
      - https://github.com/M66B/NetGuard/commit/2d36e908e111144afa23278b4fcf9869cc6cfae9
      - https://github.com/M66B/NetGuard/commit/2e70a038970d6efe9f74e5719e7648f91de30498
      - https://github.com/mozilla/MozStumbler/commit/b09b2f8334f5005fb81132d6f403854feefc35e0
      - https://github.com/mozilla/MozStumbler/commit/6ea026894de111a0e8c374c69a5521ac15d1179e
      - https://github.com/mridang/microchip/commit/592c2cafd5bc4519cdcaa0a81aaac3e98dd808f6
      - https://github.com/mridang/gasflow/commit/12b231abbb7ce7fd0e7bd9f403655b1d1079de45
      - https://github.com/hrydgard/ppsspp/commit/372798e16c9bb4e2fa493ab2729ce48299d96f7d


- name: Lazy first - Defer
  related:
    - Power Awareness
  description: Delay battery intensive operations until the device is connected to a charger. (or reduce intensity/ frequency)
  context: There are operations that do not have high priority and do not need to execute immediately (e.g., backup data in the cloud). However, these operations can be intensive and thus drain energy.
  solution: Delay intensive operations until the device is connected to a charger. Since whenever the device is connected to power, the battery might be running low, it might be advisable to wait until the power save mode is deactivated (and/or until a pre-defined battery level is reached).
  occurrences_android:
    issues:
      - https://github.com/nextcloud/android/issues/1803
      - https://github.com/haiwen/seadroid/issues/604
      - https://github.com/haiwen/seadroid/issues/270
      - https://github.com/syncthing/syncthing-android/issues/602
      - https://github.com/syncthing/syncthing-android/issues/511
      - https://github.com/splondike/polipoid/issues/3
      - https://github.com/jensstein/oandbackup/issues/131
      - https://github.com/mozilla/MozStumbler/issues/1305
      - https://github.com/google/ExoPlayer/issues/3040
    commits:
      - https://github.com/syncthing/syncthing-android/commit/c1d5bcc4cdb02eb40ab60030f304515682ba4ba3
      - https://github.com/bitcoin-wallet/bitcoin-wallet/commit/50f77c4ff25e80299a25a5bbd8742a3a1391e5f4
      - https://github.com/bitcoin-wallet/bitcoin-wallet/commit/cc7511bf5207f36ff7bd2fcf5cdb410bf041f05e
      - https://github.com/bitcoin-wallet/bitcoin-wallet/commit/9834af0a3970f02dad737d42b9ba0c719f9a29c6
      - https://github.com/bitcoin-wallet/bitcoin-wallet/commit/d6714de9ce2b22749ccb794509016b0aac9c0480
      - https://github.com/inorichi/tachiyomi/commit/b1b97c19d4311ccd2222dff8de26e9a499fe63e5
      - https://github.com/bottiger/SoundWaves/commit/9d6f91f17f555cf78bb439ad756ea63cad964f63
      - https://github.com/AntennaPod/AntennaPod/commit/1b9c96bc7664adeb12ffd0267c76a4667b25311f
      - https://github.com/tgwizard/sls/commit/0741384d6dc33c010ade3d5a2b9a77a186e99ad3
      - https://github.com/tgwizard/sls/commit/3d17aa5e142fd24a0f420571d6d10eb086a46d77
      - https://github.com/thasmin/Podax/issues/122
    pull_requests:
      - https://github.com/nextcloud/android/pull/1527
  references:
    - title: Android Developer Guides — Optimizing for Battery Life
      url: https://developer.android.com/topic/performance/power/index.html

- name: Power Awareness
  related:
    - Lazy first - Defer
  description: Have a different behavior when device is connected/disconnected to a power station, or has different battery levels. Also applies for awarenes of device's battery characteristics.
  occurrences_android:
    commits:
      - https://github.com/futurice/meeting-room-tablet/commit/cd716f9a09df7614d8ff1f5665d885aec9717116
      - https://github.com/mozilla/MozStumbler/commit/565008c1163a15655d35a4f15b6f83eb01a01036
      - https://github.com/mozilla/MozStumbler/commit/6b8dc2d19b129d4dbdbca18b2d20075c7aeefd9f
      - https://github.com/mozilla/MozStumbler/commit/464117dde4f4d9e706096be7426a798c601736f4
      - https://github.com/mozilla/MozStumbler/commit/fd88ba51601a577741e1e3ed5ae4f2c42d1b782b
      - https://github.com/mozilla/MozStumbler/commit/3e80b94e7b6f19d5320a46005dc8537c82416b83
      - https://github.com/einmalfel/PodListen/commit/58efebd8d9b30690cf4dab44794b94c9b4c9fc38
      - https://github.com/einmalfel/PodListen/commit/2ed5a655b1901f3c98d6837ecd17fa779688a9bc
      - https://github.com/Himmele/Quickdroid/commit/bc0e87457a87b6b5288356a98dd95f7337b6d760
      - https://github.com/Himmele/Quickdroid/commit/755f5cd23708bbdbe76fe50ee46412a1c15a9ab7
    issues:
      - https://github.com/mozilla/MozStumbler/issues/1175
      - https://github.com/mozilla/MozStumbler/issues/41
    pull_requests:
      - https://github.com/mozilla/MozStumbler/pull/67

- name: Reduce size
  description: when transmitting data, reduce the size of it as much as possible. E.g., use binary zipped messages.
  occurrences_android:
    commits:
      - https://github.com/shadowsocks/shadowsocks-android/commit/6bff4f1a441ee83dca7f71da5f062c80fcc24681,6bff4f1a441ee83dca7f71da5f062c80fcc24681
    issues:
      - https://github.com/mozilla/MozStumbler/issues/406
  references:
    - url: https://stackoverflow.com/questions/3065920/is-gzip-compression-useful-for-mobile-devices
    - title: Reducing battery consumption of data polling and pushing techniques on Android using GZip
      url: http://ieeexplore.ieee.org/document/7409011/
      authors: Sirapat Boonkrong, Pham Cao Dinh


- name: WiFi over Cellular (lazy first - defer)
  description: Delay(/disable) heavy data connections until the device is connected to a WiFi network.
  context: Data needs to be syncronized with a server but it is not high priority and can be delayed.
  solution: Data connections using cellular networks are usually more battery intensive than connections using WiFi.  Low priority operations that require a data connection to exchange considerable amounts of data should be delayed until a WiFi connection is available.
  occurrences_android:
    issues:
      - https://github.com/nextcloud/android/issues/1626
      - https://github.com/nextcloud/android/issues/1105
      - https://github.com/nextcloud/android/issues/844
      - https://github.com/haiwen/seadroid/issues/270
      - https://github.com/syncthing/syncthing-android/issues/549
      - https://github.com/syncthing/syncthing-android/issues/511
      - https://github.com/ppareit/swiftp/issues/94
      - https://github.com/maxpower47/PinDroid/issues/31
      - https://github.com/drpout/boilr/issues/243
      - https://github.com/Etuldan/spaRSS/issues/27
      - https://github.com/mozilla/MozStumbler/issues/1466
    commits:
      - https://github.com/Telegram-FOSS-Team/Telegram-FOSS/commit/644fc7ccea9deee3686dc9c824893baa4ce4bef6
      - https://github.com/proninyaroslav/libretorrent/commit/c48bc2714555f50c01654dfed3dbcbfa1d3ef1b6
    pull_requests:
  references:
    - title: Does Wi-Fi Consume More Battery Power Than 3G or 4G/LTE?
      authors: Mitch Bartlett
      url: https://www.technipages.com/does-wi-fi-consume-more-battery-power-than-3g-or-4glte
    - title: Modifying your Download Patterns Based on the Connectivity Type
      url: https://developer.android.com/training/efficient-downloads/connectivity_patterns.html

- name: Surpress Logs
  description: Avoid using intensive logging (< 1Hz).
  context:
  solution:
  occurrences_android:
    commits:
      - https://github.com/Freeyourgadget/Gadgetbridge/commit/c06ef3d260a8785b567743d51edcba8803195365 FAIL
      - https://github.com/LibreShift/red-moon/commit/8bbc87dddad608d4c1cd17025100f6e6a971c39b
      - https://github.com/M66B/NetGuard/commit/2d36e908e111144afa23278b4fcf9869cc6cfae9
      - https://github.com/M66B/NetGuard/commit/2e70a038970d6efe9f74e5719e7648f91de30498
      - https://github.com/hrydgard/ppsspp/commit/372798e16c9bb4e2fa493ab2729ce48299d96f7d
    issues:
      - https://github.com/mozilla/MozStumbler/issues/1357
    pull_requests:
      - https://github.com/M66B/NetGuard/pull/505
  references:
    - title: An exploratory study on assessing the energy impact of logging on Android applications
    - authors: Shaiful Chowdhury, Silvia Di Nardo, Abram Hindle, Zhen Ming (Jack) Jiang
    - url: https://link.springer.com/article/10.1007/s10664-017-9545-x
    - position: Not necessary when logs are generated at rates of ≤ 1 message per second

- name: Lazy First — Coalesce / (e.g., Inexact Schedulling)
  description: Batch multiple operations, instead of putting the device into an active state many times.
  context: 1) Background tasks can be expensive. A given task needs to be eventually executed but it does not need to be executed in a specific time. 2) Executing operations separately might incurr in tail energy consumptions.
  solution: Combine different operations in a single one.
  example: "Use Job Schedulling APIs (e.g., `android.app.job.JobScheduler`, Firebase JobDispatcher) that manage multiple background tasks occuring in a device. These APIs will guarantee that device will exit when there is a reasonable amount of work to do. It combines several multiple tasks to prevent the device from constanlly exiting sleep mode (or doze mode). Another example: execute only if another task is using the required resource. Anothete.g., ask for location while setting 'notification responsiveness' with a reasonable delay." ANOTHER EXAMPLE: colect location data only when other app collects it as well.
  occurrences_android:
    issues:
      - https://github.com/Freeyourgadget/Gadgetbridge/issues/379
      - https://github.com/k9mail/k-9/issues/2295
      - https://github.com/k9mail/k-9/issues/1577
      - https://github.com/mozilla/MozStumbler/issues/1435
      - https://github.com/google/ExoPlayer/issues/2083
      - https://github.com/ZeeRooo/MaterialFBook/issues/57
      - https://github.com/mozilla/MozStumbler/issues/1466
    commits:
      - https://github.com/QuantumBadger/RedReader/commit/9cd375c374e8754d7ec021ea197a962be4d4fd9b
      - https://github.com/QuantumBadger/RedReader/commit/bae362a07f649dac39617a9ad748de86e0944dc2
      - https://github.com/ccrama/Slide/commit/070c2c6f1faf56bb486acb25fae1b9cc63c10702
      - https://github.com/ge0rg/yaxim/commit/5544bed1ad30ab489d5854eeb380a6718132826e
      - https://github.com/TheFakeMontyOnTheRun/knightsofalentejo/commit/e9406ef60df1e8b2c843859d3f52b797c3b0d9d1
      - https://github.com/fixme-lausanne/MyHackerspace/commit/37221fccbced3af90984fa6ce5a5da8b7b551121
      - https://github.com/spacecowboy/NotePad/commit/4184f949e1baf41547fd8181d89b59368c15f257
    pull_requests:
      - https://github.com/mozilla/MozStumbler/pull/1251
      - https://github.com/mozilla/MozStumbler/pull/737
      - https://github.com/mozilla/MozStumbler/pull/413
  references:
    - title: Optimizing for Doze and App Standby
      url: https://developer.android.com/training/monitoring-device-state/doze-standby.html
    - title: Android Developer Guides — Optimizing for Battery Life
      url: https://developer.android.com/topic/performance/power/index.html
    - title: "DevBytes: Efficient Data Transfers - Batching, Bundling, and SyncAdapters"
      url: https://www.youtube.com/watch?v=5onKZcJyJwI

- name: Lazy First — reduce
  description: Are there redundant operations your app can cut out? For example, can it cache downloaded data instead of repeatedly waking up the radio to re-download the data? Verify if there is any update before downloading.
  related:
    - Affordable
  occurrences_android:
    issues:
      - https://github.com/bfabiszewski/ulogger-android/issues/8
    commits:
      - https://github.com/Freeyourgadget/Gadgetbridge/commit/d1a62968f69ebb7dd6dd7cb273a06aa0761681a4
      - https://github.com/00-Evan/shattered-pixel-dungeon/commit/5491f315f6080f6ce9883638c5a7339c19a14828
      - https://github.com/redfish64/TinyTravelTracker/issues/49
      - https://github.com/k9mail/k-9/commit/43c38a047feedda4720af5bfbc188a33f8dfaced
      - https://github.com/federicoiosue/Omni-Notes/commit/9fe9db8d20f6323589026830e68927d8ad5c30d9
      - https://github.com/federicoiosue/Omni-Notes/commit/bd3c96f2e87553a6c5d5b1a70e7e5d9b4565c20b
      - https://github.com/fixme-lausanne/MyHackerspace/commit/d71df9b3962afaf38301dcef7199466281e7e48e
      - https://github.com/shadowsocks/shadowsocks-android/commit/179aab80942fb258ded3714d14d1fa1716fddce2
      - https://github.com/fixme-lausanne/MyHackerspace/issues/33
    pull_requests:
      - https://github.com/bfabiszewski/ulogger-android/pull/20
      - https://github.com/tgwizard/sls/pull/340
  references:
    - title: Android Developer Guides — Optimizing for Battery Life
      url: https://developer.android.com/topic/performance/power/index.html

- name: Decrease rate
  description: Increase time between syncs/sensor reads and/or allow users to specify their preferred sync delays. This can also depend on context (dynamic).
  related:
    - Enough resolution
  occurrences_android:
    issues:
      - https://github.com/opacapp/opacclient/issues/492
      - https://github.com/mvglasow/satstat/issues/140
      - https://github.com/tananaev/traccar-client-android/issues/135
      - https://github.com/tananaev/traccar-client-android/issues/128
      - https://github.com/tananaev/traccar-client-android/issues/58
      - https://github.com/tananaev/traccar-client-android/issues/12
      - https://github.com/servalproject/batphone/issues/20
      - https://github.com/Phantast/smartnavi/issues/15
      - https://github.com/google/ExoPlayer/issues/1140
      - https://github.com/drpout/boilr/issues/131
      - https://github.com/mozilla/MozStumbler/issues/1055
      - https://github.com/mozilla/MozStumbler/issues/21
    commits:
      - https://github.com/vector-im/riot-android/commit/14fdf5e69e8633f2736aea71be1820649f81c1df
      - https://github.com/QuantumBadger/RedReader/commit/9cd375c374e8754d7ec021ea197a962be4d4fd9b
      - https://github.com/OGRECave/ogre/commit/bb0763af64738504487fb94533d5682d361c8764
      - https://github.com/farmerbb/Taskbar/commit/ffd2d7fd676507219dbf0f3104ea50b35dd3c9ed
      - https://github.com/samuelclay/NewsBlur/commit/744ebd54a9014682999a21b665298e65a6a766ec
      - https://github.com/ankidroid/Anki-Android/commit/9193806eb0546bf8d7c040ad40272d632b4d3e99
      - https://github.com/fixme-lausanne/MyHackerspace/commit/d71df9b3962afaf38301dcef7199466281e7e48e
      - https://github.com/Berlin-Vegan/berlin-vegan-guide/commit/4eb4c6745584e7f7ac016a34f86838092ba244f3
    pull_requests:
      - https://github.com/mozilla/MozStumbler/pull/264

- name: User knows best
  description: Allow users to enable/disable certain features in order to save energy. (This might be more effective with power users.)
  context: many times energy efficiency solutions provide a tradeoff between _power_ of features and power consumption. However, this tradeoff is different for different users.
  occurrences_android:
    issues:
      - https://github.com/redfish64/TinyTravelTracker/issues/49
      - https://github.com/redfish64/TinyTravelTracker/issues/17
      - https://github.com/TeamNewPipe/NewPipe/issues/1096
      - https://github.com/TeamNewPipe/NewPipe/issues/1059
      - https://github.com/k9mail/k-9/issues/1563
      - https://github.com/HoraApps/LeafPic/issues/250
      - https://github.com/Etuldan/spaRSS/issues/27
      - https://github.com/signalapp/Signal-Android/issues/6391
      - https://github.com/openbmap/radiocells-scanner-android/issues/79
      - https://github.com/mozilla/MozStumbler/issues/1386
      - https://github.com/mozilla/MozStumbler/issues/353
    commits:
      - https://github.com/tasks/tasks/commit/bec96f8ce66fe35f8e6c0032f82ae21abb59bde6
      - https://github.com/proninyaroslav/libretorrent/commit/c48bc2714555f50c01654dfed3dbcbfa1d3ef1b6
      - https://github.com/proninyaroslav/libretorrent/commit/8dca82790bf631e913369027632924257dfe3ce4
      - https://github.com/redsolution/xabber-android/commit/616411e3790ba4e04cbc96ae9a24ce8ba49e1027
      - https://github.com/tgwizard/sls/commit/0741384d6dc33c010ade3d5a2b9a77a186e99ad3
      - https://github.com/mozilla/MozStumbler/commit/0f415d3bfec9168dbaf34172cd8c430eb5ef7dc5
      - https://github.com/mozilla/MozStumbler/commit/6672264de28560725a29ca7925a3452aaaa37477
      - https://github.com/mozilla/MozStumbler/commit/1797407a535911c0dc5a57e1e5a8d77c88f89f3a
      - https://github.com/mozilla/MozStumbler/commit/63122cfd7f255f9e72199eb3784901aa01204cc5
      - https://github.com/mozilla/MozStumbler/commit/6e3c81239183963e6e41009d45a55e37be26dc3d
      - https://github.com/mozilla/MozStumbler/commit/2132e036ab1edb234c723783d8c4b4939c57abbc
      - https://github.com/mozilla/MozStumbler/commit/4b4f96047a8e20a44e4359ce246231eba78f24fa
      - https://github.com/mozilla/MozStumbler/commit/40a29fb6c01e99350bdd19cdb9727be740dde4b5
      - https://github.com/einmalfel/PodListen/commit/2ed5a655b1901f3c98d6837ecd17fa779688a9bc
      - https://github.com/geometer/FBReaderJ/commit/87e6e7fad6d3189174d04b2060fcf1222289c863
      - https://github.com/thasmin/Podax/issues/122
    pull_requests:
      - https://github.com/mozilla/MozStumbler/pull/1706
      - https://github.com/mozilla/MozStumbler/pull/1419
      - https://github.com/mozilla/MozStumbler/pull/1261

- name: Inform Users
  description: Let the user know it the app is doing any battery intensive operation. let the user know what is the effect of power management in it UX
  example: 'alert that saving power mode is activated; alert when a battery intensive operation will be performed'
  related: user knows best
  occurrences_android:
    pull_requests:
      - https://github.com/mozilla/MozStumbler/pull/307
      - https://github.com/mozilla/MozStumbler/pull/262
    commits:
      - https://github.com/hrydgard/ppsspp/commit/27286d09499e0103e90c8b1f3e483834afc86786
      - https://github.com/hrydgard/ppsspp/commit/1f7a137926050deff4c05063f09275463c1cd2f4



- name: Kill the app FIXME (anti pattern?)
  description: Provide users with means to easily kill the app. FIXME can we even consider this. it sounds like bad practice.
  context: there is data connection but is low quality, which may result in battery drain for heavy data transfers.
  occurrences_android:
    issues:
      - https://github.com/k9mail/k-9/issues/1066
  references:
    - title: Modifying your Download Patterns Based on the Connectivity Type FIXME
      url: https://developer.android.com/training/efficient-downloads/connectivity_patterns.html
    - title: Closing apps to save your battery only makes things worse
      url:  https://www.wired.com/2016/03/closing-apps-save-battery-makes-things-worse/

- name: Stop on Demand
  description: Provide users with means to stop battery intensive operations.
  occurrences_android:
    issues:
      - https://github.com/jensstein/oandbackup/issues/102
      - https://github.com/jensstein/oandbackup/issues/97


- name: No Ads
  occurrences_android:
    issues:
      - https://github.com/mozilla-mobile/focus-android/issues/2082

- name: Play on demand
  description: Do not automatically start playing media content.
  context:
  occurrences_android:
    issues:
      - https://github.com/mozilla-mobile/focus-android/issues/2003

- name: Exchange only what is strictly necessarily
  related:
    - Lazy First — reduce
  description: When syncronizing with a server, provide or request the smallest portion of data that is required for a given operation.
  occurrences_android:
    issues:
      - https://github.com/mozilla-mobile/focus-android/issues/2003


- name: Enough resolution
  description: Choose high accuracy data collection only when strictly necessary.
  context: (screen resolution, location services precision, sensor sample rate, graphics refresh rate - FPS, surfaces over textures)
  example: use cell towers for location
  solution:
  occurrences_android:
    issues:
      - https://github.com/vanilla-music/vanilla/issues/620
      - https://github.com/osmandapp/Osmand/issues/3556
      - https://github.com/redfish64/TinyTravelTracker/issues/60
      - https://github.com/redfish64/TinyTravelTracker/issues/52
      - https://github.com/criticalmaps/criticalmaps-android/issues/116
      - https://github.com/mvglasow/satstat/issues/140
      - https://github.com/tananaev/traccar-client-android/issues/308
      - https://github.com/tananaev/traccar-client-android/issues/288
      - https://github.com/Phantast/smartnavi/issues/15
      - https://github.com/google/ExoPlayer/issues/3843
      - https://github.com/google/ExoPlayer/issues/3477
      - https://github.com/mozilla/MozStumbler/issues/21
    commits:
      - https://github.com/caarmen/network-monitor/commit/e502952d5c7792df83446e08eea84c106f11ec5d
      - https://github.com/00-Evan/shattered-pixel-dungeon/commit/debbb570662343b5a74b11057d1b67d257e6f95f
      - https://github.com/gateship-one/malp/commit/47914c186ada0f03d758b5d249e96e70fe51dfbf
      - https://github.com/velazcod/Tinfoil-Facebook/commit/15c75847d51d8385595958bbe2449e8c4ba65e1e
      - https://github.com/Berlin-Vegan/berlin-vegan-guide/commit/4eb4c6745584e7f7ac016a34f86838092ba244f3
    pull_requests:
      - https://github.com/mvglasow/satstat/pull/141
      - https://github.com/mozilla/MozStumbler/pull/14

- name: use alternative sensor sources Sensor fusion
  example: use data from accelerometer to infer whether location should be updated
  related:
    - enough resolution
    - Smart poller / dynamically adjust sync rate
  occurrences_android:
    issues:
      - https://github.com/tananaev/traccar-client-android/issues/288
      - https://github.com/mozilla/MozStumbler/issues/1108
      - https://github.com/mozilla/MozStumbler/issues/1664
      - https://github.com/mozilla/MozStumbler/issues/1394
      - https://github.com/mozilla/MozStumbler/issues/1290
      - https://github.com/mozilla/MozStumbler/issues/1107
      - https://github.com/mozilla/MozStumbler/issues/584
    commits:
      - https://github.com/mozilla/MozStumbler/commit/fa3042a5cb6594e2acfe2744a9bc0a6c897f83db
    pull_requests:
      - https://github.com/mozilla/MozStumbler/pull/1270
  references:
    - title: Movement Detection for Power-Efficient Smartphone WLAN Localization
      url: https://www.cs.cmu.edu/afs/cs.cmu.edu/Web/People/ishafer/pubs/localization-mswim10.pdf

- name: Reasonable timeout
  description: Interrupt tasks that are taking an abnormal time to execute. Provide a reasonable timeout for tasks or wakelocks. (also used in alarms when the user forgets to turn it off)
  related:
    - Polite poller
  occurrences_android:
    commits:
      - https://github.com/jroal/a2dpvolume/commit/7723d698b690b94e01380a4618cb55f700c724c3
      - https://github.com/daneren2005/Subsonic/commit/8ac7e0f2fec8f1ba475696b4d1bf2d7065eae2f9
      - https://github.com/klassm/andFHEM/commit/05a2e63a51c5f75651451ce8f336c84d0dbfca32
    issues:
      - https://github.com/kontalk/androidclient/issues/405
      - https://github.com/kraigs-android/kraigsandroid/issues/52
      - https://github.com/drpout/boilr/issues/140

- name: Infer instead of asking
  description: Some data can be calculated by the phone instead of asking the server (E.g, Time since message was sent)
  occurrences_android:
    issues:
      - https://github.com/kontalk/androidclient/issues/378

- name: no screen
  description: whenever possible allow interaction without using the display.
  related:
    - Close immediately
  occurrences_android:
    issues:
      - https://github.com/inorichi/tachiyomi/pull/1177
      - https://github.com/anthonycr/Lightning-Browser/issues/342
      - https://github.com/philliphsu/ClockPlus/issues/14
      - https://github.com/xbmc/Kore/issues/157
      - https://github.com/i-p-tel/sipdroid/issues/709
      - https://github.com/rosenpin-deprecated/More-For-GO/issues/23
      - https://github.com/signalapp/Signal-Android/issues/6258

- name: Offline mode
  description: Allow users to download content upfront so that this information does not need to be downloaded each time and/or separately.
  related:
    - Lazy First (Reduce)
    - Lazy First (Coalesce)
  occurrences_android:
    issues:
      - https://github.com/hidroh/materialistic/issues/659
      - https://github.com/nilsbraden/ttrss-reader-fork/issues/156

- name: Smart poller / dynamically adjust sync rate
  description: Analyze history of a feed to understand how often it is updated. Automatically adjust update times based on that.
  occurrences_android:
    commits:
      - https://github.com/samuelclay/NewsBlur/commit/71b746a48daa687fb94339d21fb5cd00bf229c2f

- name: Permanent notification (anti pattern)
  occurrences_android:
    issues:
      - https://github.com/nextcloud/android/issues/2130
      - https://github.com/redfish64/TinyTravelTracker/issues/54
      - https://github.com/tgwizard/sls/issues/384

- name: Obsolete
  description: remove properties that do not have any effect.
  example: obsolete params in views
  related:
    - Affordable
  occurrences_android:
    commits:
      - https://github.com/grzegorznittner/chanu/commit/2640dc50ab8150341da30bc4d282f8ac8f5aa4c5
    pull_requests:
      - https://github.com/SecUSo/privacy-friendly-sudoku/pull/19
      - https://github.com/vitas/beaconloc/pull/13
      - https://github.com/redfish64/TinyTravelTracker/pull/59
      - https://github.com/ccrama/Slide/pull/2347
      - https://github.com/bfabiszewski/ulogger-android/pull/20
      - https://github.com/vijai1996/screenrecorder/pull/16
      - https://github.com/SecUSo/privacy-friendly-qr-scanner/pull/19
      - https://github.com/ligi/SCR/pull/5
      - https://github.com/klausw/hackerskeyboard/pull/540
      - https://github.com/koelleChristian/trickytripper/pull/27
      - https://github.com/Utyff/pMetro/pull/15
      - https://github.com/Sensirion/SmartGadget-Android/pull/38
      - https://github.com/greenaddress/GreenBits/pull/200

- name: Offload heavy operations
  description:
  occurrences_android:
    issues:
      - https://github.com/SecUSo/privacy-friendly-sudoku/issues/8

- name: Reduce graphic animations
  description:
  warning: Particularly important on e-ink devices.
  occurrences_android:
    commits:
      - https://github.com/freeotp/freeotp-android/commit/7f02f57572149f243be526788987aced6a6626ba
    issues:
      - https://github.com/SecUSo/privacy-friendly-sudoku/issues/8
      - https://github.com/ankidroid/Anki-Android/issues/3022
      - https://github.com/HoraApps/LeafPic/issues/250
      - https://github.com/Etuldan/spaRSS/issues/11

- name: Schedulle and Sleep
  description: use AlarmManager for updates, instead of using Wakelocks, Services.
  related:
    - Close Immediately
  occurrences_android:
    issues:
      - https://github.com/tananaev/traccar-client-android/issues/240
      - https://github.com/tananaev/traccar-client-android/issues/11
      - https://github.com/tananaev/traccar-client-android/issues/11
      - https://github.com/indywidualny/FaceSlim/issues/212
    pull_requests:
      - https://github.com/klausw/hackerskeyboard/pull/539

- name: Manual Sync, On Demand
  description: Perform tasks only when the user specifically asks.
  occurrences_android:
    issues:
      - https://github.com/drpout/boilr/issues/128
      - https://github.com/drpout/boilr/issues/131


- name: Kill the battery optimizer (anti pattern)
  description: Most battery optimizers are actually app killers. However, very often users are not aware of the implications of battery optimiers that are running on their devices. Thus, users assume that apps are misfunctioning due to their poor quality.
  occurrences_android:
    issues:
      - https://github.com/siacs/Conversations/issues/2775
      - https://github.com/siacs/Conversations/issues/1725
      - https://github.com/Freeyourgadget/Gadgetbridge/issues/782
      - https://github.com/Freeyourgadget/Gadgetbridge/issues/564
      - https://github.com/julian-klode/dns66/issues/166
      - https://github.com/romannurik/muzei/issues/207
      - https://github.com/romannurik/muzei/issues/190
      - https://github.com/michaelkourlas/voipms-sms-client/issues/137
      - https://github.com/termux/termux-app/issues/377
      - https://github.com/tananaev/traccar-client-android/issues/240
      - https://github.com/LibreShift/red-moon/issues/213
      - https://github.com/gsurrel/FacebookNotifications/issues/33
      - https://github.com/erickok/transdroid/issues/417
      - https://github.com/httpdispatch/MissedNotificationsReminder/issues/1
      - https://github.com/khertan/ForRunners/issues/46
    commits:
      - https://github.com/siacs/Conversations/commit/d5608cb4f3bd357e46513a38b8f3676049992dcc
      - https://github.com/siacs/Conversations/commit/e6a9829dd2b275f80231b19930fbb75b209f4c2e
      - https://github.com/siacs/Conversations/commit/aa6955a0d687c0310d69658d0a68facb798daaf6
      - https://github.com/siacs/Conversations/commit/c296d6f4466e2616432660bb01465f3746e1bb65
      - https://github.com/quarck/CalendarNotification/commit/118d6802e539e10c0fabd0f968de8e57ed2446e0
      - https://github.com/deltachat/deltachat-android/commit/e2225be331d4c041510b988d03f171b7532a1355
      - https://github.com/deltachat/deltachat-android/commit/b941b9e21a2787308755f092ce92ca048bdbcd84
      - https://github.com/syncthing/syncthing-android/commit/31721af0c3a00e4a9a2434e50f34
      - https://github.com/syncthing/syncthing-android/commit/f005fcd1d2b0d197eab706a2d5a36520f7f2ff82
      - https://github.com/jackpal/Android-Terminal-Emulator/commit/c40111ffeb3523cede1d76731901b7cb73c7dca0
      - https://github.com/kontalk/androidclient/commit/391f01742ef8c618499ef6dd02d02b35b669d14d
      - https://github.com/fython/Blackbulb/commit/aee784223b1860759381d269f9572bad01189607
      - https://github.com/etesync/android/commit/d675fb961ea67b665c6e0ead3e6e84c9297a7d8c
      - https://github.com/redsolution/xabber-android/commit/725be496fee04402685e1a129249414e0a6867f8
      - https://github.com/httpdispatch/MissedNotificationsReminder/commit/09255c310dfd429c3e7907a284c054923c3fb814
    pull_requests:
      - https://github.com/microg/android_packages_apps_GmsCore/pull/197
      - https://github.com/microg/android_packages_apps_UnifiedNlp/pull/100
  references:
    - title: Optimizing for Doze and App Standby -— Acceptable Use Cases for Whitelisting
      url: https://developer.android.com/training/monitoring-device-state/doze-standby.html#whitelisting-cases
